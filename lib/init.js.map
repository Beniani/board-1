{"version":3,"sources":["init.es6"],"names":[],"mappings":";;;;;;kBAA8B,IAAI;;oBACf,MAAM;;;AAGzB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE;AAC5B,UAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAS,YAAY,EAAE,QAAQ,EAAE;AACzD,YAAI,aAAa,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;AACpC,YAAI,QAAQ,KAAK,SAAS,IAAI,QAAQ,GAAG,aAAa,CAAC,MAAM,EAAE;AAC3D,oBAAQ,GAAG,aAAa,CAAC,MAAM,CAAC;SACnC;AACD,gBAAQ,IAAI,YAAY,CAAC,MAAM,CAAC;AAChC,YAAI,SAAS,GAAG,aAAa,CAAC,OAAO,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;AAC9D,eAAO,SAAS,KAAK,CAAC,CAAC,IAAI,SAAS,KAAK,QAAQ,CAAC;KACrD,CAAC;CACL;;AAED,IAAI,KAAK,GAAG,SAAR,KAAK,GAAS;AACd,YAjBI,OAAO,EAiBN,UAhBD,IAAI,EAgBE,SAAS,EAAE,SAAS,CAAC,EAAE,UAAC,GAAG,EAAE,IAAI,EAAK;AAC5C,YAAI,GAAG,EAAE;AAAC,mBAAO;SAAC;;AAElB,YAAI,CAAC,OAAO,CAAC,UAAC,IAAI,EAAK;AACnB,gBAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AACtB,uBAAO,CAAC,UArBhB,IAAI,EAqBiB,SAAS,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC;aAC9C;SACJ,CAAC,CAAC;KACN,CAAC,CAAC;CACN,CAAC;;QAEM,KAAK,GAAL,KAAK","file":"init.js","sourcesContent":["import {readdir as read} from 'fs';\nimport {join} from 'path';\n\n// TODO: move this to a proper polyfills file.\nif (!String.prototype.endsWith) {\n    String.prototype.endsWith = function(searchString, position) {\n        var subjectString = this.toString();\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    };\n}\n\nlet serve = () => {\n    read(join(__dirname, '../jobs'), (err, data) => {\n        if (err) {return;}\n\n        data.forEach((item) => {\n            if (item.endsWith('.js')) {\n                require(join(__dirname, '../jobs/', item));\n            }\n        });\n    });\n};\n\nexport {serve};\n"]}